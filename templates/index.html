<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Financeiro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-light text-dark p-4">
  <div class="container">
    <h1 class="mb-4 text-center">📊 Dashboard de Ações (Alpha Vantage)</h1>

    <!-- Formulário de busca principal -->
    <form class="d-flex justify-content-center mb-4" onsubmit="event.preventDefault(); buscarAcao()">
      <input id="inputSimbolo" class="form-control me-2" style="max-width: 300px;" type="text" placeholder="Ex: PETR4.SA ou AAPL" />
      <button class="btn btn-primary" type="submit">Buscar</button>
    </form>

    <!-- Indicadores da primeira ação -->
    <div id="indicadores" class="row g-3 mb-4"></div>

    <!-- Card de Previsão -->
    <div class="row g-3 mb-2">
      <div class="col-md-12">
        <div class="card border-warning">
          <div class="card-body">
            <h5 class="card-title">📈 Preço Previsto (5 dias)</h5>
            <p class="card-text text-warning fw-bold" id="previsaoCard">---</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 🧠 Novo Card: Resumo Preditivo com IA -->
    <div class="row g-3 mb-4">
      <div class="col-md-12">
        <div class="card border-info">
          <div class="card-body">
            <h5 class="card-title">🧠 Resumo Preditivo com IA</h5>
            <p id="previsaoCardResumo" class="card-text text-dark">Carregando previsão inteligente...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Gráfico da previsão -->
    <div class="card mb-4">
      <div class="card-body">
        <canvas id="graficoPrevisao" height="100"></canvas>
      </div>
    </div>

    <!-- Gráfico da primeira ação -->
    <div class="card mb-4">
      <div class="card-body">
        <canvas id="grafico" height="100"></canvas>
      </div>
    </div>

    <!-- Gráfico matplotlib da primeira ação -->
    <div class="text-center mb-5">
      <img id="graficoMatplotlib" src="" class="img-fluid border shadow" alt="Gráfico gerado" style="max-width: 100%;">
    </div>

    <hr class="my-5">

    <!-- Formulário de comparação -->
    <h2 class="mb-3 text-center">📌 Comparar com outra ação</h2>
    <form class="d-flex justify-content-center mb-4" onsubmit="event.preventDefault(); buscarComparacao()">
      <input id="inputComparar" class="form-control me-2" style="max-width: 300px;" type="text" placeholder="Ex: AAPL, VALE3.SA" />
      <button class="btn btn-outline-secondary" type="submit">Comparar</button>
    </form>

    <!-- Indicadores da ação comparada -->
    <h4 id="tituloComparacao" style="display:none;" class="text-center mt-4"></h4>
    <div id="indicadoresComparacao" class="row g-3 mb-4"></div>

    <!-- Card de Previsão Comparativa -->
    <div class="row g-3 mb-2">
      <div class="col-md-12">
        <div class="card border-warning">
          <div class="card-body">
            <h5 class="card-title">📈 Preço Previsto (5 dias) - Comparação</h5>
            <p class="card-text text-warning fw-bold" id="previsaoComparacaoCard">---</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 🧠 Novo Card: Resumo Preditivo com IA - Comparação -->
    <div class="row g-3 mb-4">
      <div class="col-md-12">
        <div class="card border-info">
          <div class="card-body">
            <h5 class="card-title">🧠 Resumo Preditivo com IA - Comparação</h5>
            <p id="previsaoComparacaoResumo" class="card-text text-dark">Carregando previsão inteligente...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Gráfico da comparação -->
    <div class="card mb-4">
      <div class="card-body">
        <canvas id="graficoComparacao" height="100"></canvas>
      </div>
    </div>

    <!-- Gráfico matplotlib da comparação -->
    <div class="text-center mb-4">
      <img id="graficoMatplotlibComparacao" src="" class="img-fluid border shadow" style="max-width: 100%;">
    </div>

    <!-- Gráfico da previsão da comparação -->
    <div class="card mb-4">
      <div class="card-body">
        <canvas id="graficoPrevisaoComparacao" height="100"></canvas>
      </div>
    </div>
  </div>

  <script src="/static/js/chart_config.js"></script>
</body>
</html>















